<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Train Scheduling with Firebase</title>
    
    <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-database.js"></script>

</head>
<body>


<div id="Current-Train-Schedule">
        <!-- Current train schedule
        -Train name
        -Destination
        -frequency(min)
        -next arrival
        -minutes away -->
        <h3>Current Train Schedule</h3>
        <table id="tabulatedTrainSchedule">
                <tr>
                  <th>Train Name</th>
                  <th>Destination</th>
                  <th>Frequency(min)</th>
                  <th>Next arrival</th>
                  <th>Minutes Away</th>
                </tr>
                <tr>
                  <td>A</td>
                  <td>B</td>
                  <td>C</td>
                  <td>D</td>
                  <td>E</td>
                </tr>
                <tr>
                  <td>A</td>
                  <td>B</td>
                  <td>C</td>
                  <td>D</td>
                  <td>E</td>
                </tr>
                <tr>
                  <td>A</td>
                  <td>B</td>
                  <td>C</td>
                  <td>D</td>
                  <td>E</td>
                </tr>
                <tr>
                  <td>A</td>
                  <td>B</td>
                  <td>C</td>
                  <td>D</td>
                  <td>E</td>
                </tr>
                <tr>
                  <td>A</td>
                  <td>B</td>
                  <td>C</td>
                  <td>D</td>
                  <td>E</td>
                </tr>
                <tr>
                  <td>A</td>
                  <td>B</td>
                  <td>C</td>
                  <td>D</td>
                  <td>E</td>
                </tr>
              </table>
</div>
<div id="Add-Train">
<h3>Add Train</h3>
        <label for="train-Name-Input">Train Name</label>
        <input type="text" id="Train-Name-Input">
        <label for="destination-Input">Destination</label>
        <input type="text" id="Destination-input">
        <label for="firstTrainTime-Input">First Train Time</label>
        <input type="text" id="firstTrainTime-input">
        <label for="frequency-Input">Frequency(min)</label>
        <input type="text" id="frequency-input">
        <button id="Add-Train-Submit">Submit</button>

        <!-- change to input type=number -->
        <!-- you can still type into it but it will only accept numbers -->

</div>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script>

var config = {

apiKey: "AIzaSyDW70C69Vn7qXevMvcux6yBs-LP0kb_cCQ",
authDomain: "big-rob-s-first-project.firebaseapp.com",
databaseURL: "https://big-rob-s-first-project.firebaseio.com",
projectId: "big-rob-s-first-project",
storageBucket: "big-rob-s-first-project.appspot.com",
messagingSenderId: "1032330894268",
appId: "1:1032330894268:web:a4b3a67d610ca469e1a9b9"

}
firebase.initializeApp(config);

var database = firebase.database();

$("#Add-Train-Submit").on("click", function(event) {
    event.preventDefault();

// var inputForm = ;
var trainName =$("#train-Name-Input").val();
var trainDestination =$("#destination-Input").val();
var trainFirstTime =$("#firstTrainTime-Input").val();
var trainFrequency = $("#frequency-Input").val();


// New variable train form
var addTrain = {
name : trainName ,
destination : trainDestination,
firstTime : trainFirstTime ,
frequency : trainFrequency,
}

database.ref().push(addTrain);
  
  console.log(addTrain.name);
  console.log(addTrain.destination);
  console.log(addTrain.firstTime);
  console.log(addTrain.frequency);

  //Clear all of text-boxes
  $("#train-Name-Input").val("");
  $("#destination-Input").val("");
  $("#firstTrainTime-Input").val("");
  $("#frequency-Input").val("");

  //Create the new row
var addTrainRow = $("<tr>").append(
                  $("<td>").text(trainName),
                  $("<td>").text(trainDestination),
                  $("<td>").text(trainFrequency),
                //   $("<td>").text(Next Arrival),
                //   $("<td>").text(Minutes Away)
              );
  
              //Append the new row to the table
              $("#tabulatedTrainSchedule").append(addTrainRow);

});



</script>    
    
    
</body>
</html>